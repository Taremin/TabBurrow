# release/v1.3.0

## 概要
今回のアップデート v1.3.0 では、当初の想定を大幅に上回る多数の新機能が追加されました。
特に待望されていた「ゴミ箱機能」の実装や、UIを自分好みに細かく調整できる「カスタムテーマエディタ」、さらにはURLを整理するための「URL正規化機能」など、利便性とパーソナライズ機能が大幅に強化されています。
また、内部構造の抜本的な改善（ストレージ層のモジュール化）により、将来の拡張に向けた極めて安定した基盤を構築しました。

## ✨ 新規機能
- **🗑️ ゴミ箱機能**:
  - 削除したタブが一時的にゴミ箱に保管されるようになりました。
  - 「完全に削除」する前に確認・復元が可能になり、誤操作によるデータ損失を防止します。
  - ゴミ箱内での検索や一括削除（完全削除）、一括復元にも対応しています。
- **🎨 カスタムテーマエディタ**:
  - 標準のライト/ダークモードに加え、背景色やテキスト色、アクセントカラーなどを自由に変更できるテーマ作成機能を追加しました。
  - 作成したテーマは名前を付けて保存したり、インポート/エクスポートして共有したりすることが可能です。
- **🧹 URL正規化機能**:
  - 不要なクエリパラメータ（トラッキング用など）を自動的に削除して保存する「URL正規化」を実装しました。
  - ユーザー独自の正規化ルールを正規表現で定義でき、重複保存の防止やリストの視認性向上に役立ちます。
- **✏️ タブ情報の詳細編集**:
  - 個々のタブに対して「表示名（DisplayName）」だけでなく、特定のグループ内での並び順を制御するための「カスタムソートキー」を直接編集できるようになりました。
- **🔍 検索機能の強化**:
  - 検索バーに「入力クリアボタン」を追加し、素早い再検索が可能になりました。
  - ゴミ箱内やテーマ一覧など、各所で一貫した検索体験を提供します。
- **🎯 フォーカス復帰機能**:
  - タブ管理画面からブラウザのタブに戻った際、元のアクティブ要素にフォーカスを戻す設定を追加し、キーボード操作の継続性を向上させました。

## 改善・変更
- **⚙️ ストレージ層のモジュール化**: 
  - `storage.ts` を機能別に分割し、大規模データの取り扱いを高速化・安定化させました。
- **🆙 グループ管理のアイコン化**:
  - グループヘッダーのアクションボタンを整理し、アイコン化することで視認性と操作性を改善しました。
- **🛠️ E2Eテストの安定化**:
  - テスト専用の属性（`data-testid`）の導入やテスト環境の完全な分離により、品質保証プロセスを大幅に強化しました。
- **🌐 i18n チェックの自動化**:
  - 翻訳漏れを自動検出するスクリプトを導入し、多言語環境での品質を担保しました。

## バグ修正
- **画面遷移時の不具合解消**: 設定からタブ管理に戻った際に画面が白くなる、あるいはスクロール位置がずれる問題を修正しました。
- **レースコンディションの修正**: 高速なタブ操作や保存時に、スクリーンショットが誤ったタブに紐付けられる問題を解決しました。
- **型定義の徹底的な修正**: 大規模なリファクタリングにより `any` 型を排除し、ランタイムエラーの発生リスクを最小化しました。
- その他、UIの微調整やパフォーマンス改善を多数実施しました。
